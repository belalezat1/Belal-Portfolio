//This program takes an input of any data size (stop input with -999) and outputs the Standard Deviation or the Mean

var data = [];

function start() {
    var data = inputs(data);
    var inputFind = readLine("Would you like to find the mean or the standard deviation?: ");
    if (inputFind == "mean" || inputFind == "Mean"){
        findMean(data);
    }else if(inputFind == "SD" || inputFind == "standard deviation") { //takes either mean or sd
        findSD(data); // or if neither is the input it says unrecognized
    }else{
        println("Input not recognized.")
    }
    
}
function inputs () {
    while(true) {
        var inputData = readInt("Enter a number(enter '-999' to stop inputting): ");
        if(inputData == "-999") { //repeats input until '-999' is entered
            break;
        }else{
            data.push(inputData);
        }
    }
        return(data);
}

function findMean(arr) { //finds the mean using the list generated by the user
    var sumData = 0;
    for(var i = 0; i < arr.length; i++) {
        sumData += arr[i];
    }
    var meanData = sumData / arr.length;
    var meanData = Math.round(1000 * meanData)/1000; // round mean
    println("The mean of the data set is " + meanData); //to thousandths, print
}

function findSD(arr) { //finds the standard deviation using the list generated by the user
    var sumData = 0;
    var sumDifferences = 0;
    var squareDifferences = [];
    for(var i = 0; i < arr.length; i++) {   //loop for sum of every array 
        sumData += arr[i];                  //element 
    }
    var meanData = sumData / arr.length; //divides sum by length for mean
    
    for(var i = 0; i < arr.length; i++) {
        var differences = arr[i]-meanData;
        squareDifferences.push(differences * differences);
    }
    for(var i = 0; i < squareDifferences.length; i++) {   //sum of squareDifferences array 
        sumDifferences += squareDifferences[i];
    }
    var meanDifferences = sumDifferences / squareDifferences.length;
    var SD = Math.sqrt(meanDifferences);
    var SD = Math.round(1000 * SD)/1000; // round SD to thousandths
    println("The standard deviation of the data set is " + SD);
}
